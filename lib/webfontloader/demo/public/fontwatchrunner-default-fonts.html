<!DOCTYPE html>
<html>
<head>
  <link href="/basic.css" rel="stylesheet" type="text/css">
  <script type="text/javascript" src="/webfont-fontwatchrunner.js"></script>
  <style type="text/css">
    #results {
      font-family: arial, sans-serif;
      font-size: 16px;
    }
    h1 {
      font-size: 300px;
    }
  </style>
  <script type="text/javascript">
    var styles = '<style type="text/css">';
    styles += '.default-fonts-a {font-family: ' + webfont.FontWatchRunner.DEFAULT_FONTS_A + ';}';
    styles += '.default-fonts-b {font-family: ' + webfont.FontWatchRunner.DEFAULT_FONTS_B + ';}';
    styles += '</style>';
    document.write(styles);
  </script>
</head>
<body>
  <p id="results">Calculating...</p>

  <p>
    The goal of this page is to verify that the two default font stacks in
    FontWatchRunner have different widths on a given platform when rendering the
    default test string. The pairs of headings below should render in different
    fonts and the results above should indicate that they all have different
    widths.
  </p>
  <hr>
  <h1 style="font-weight: normal; font-style: normal;">
    <span class="default-fonts-a"></span>
    <span class="default-fonts-b"></span>
  </h1>
  <h1 style="font-weight: normal; font-style: italic;">

    <span class="default-fonts-a"></span>
    <span class="default-fonts-b"></span>
  </h1>
  <h1 style="font-weight: bold; font-style: normal;">
    <span class="default-fonts-a"></span>
    <span class="default-fonts-b"></span>
  </h1>
  <h1 style="font-weight: bold; font-style: italic;">
    <span class="default-fonts-a"></span>

    <span class="default-fonts-b"></span>
  </h1>
  <h1 style="font-weight: normal; font-style: normal; text-rendering: optimizeLegibility;">
    <span class="default-fonts-a"></span>
    <span class="default-fonts-b"></span>
  </h1>
  <h1 style="font-weight: normal; font-style: italic; text-rendering: optimizeLegibility;">
    <span class="default-fonts-a"></span>
    <span class="default-fonts-b"></span>

  </h1>
  <h1 style="font-weight: bold; font-style: normal; text-rendering: optimizeLegibility;">
    <span class="default-fonts-a"></span>
    <span class="default-fonts-b"></span>
  </h1>
  <h1 style="font-weight: bold; font-style: italic; text-rendering: optimizeLegibility;">
    <span class="default-fonts-a"></span>
    <span class="default-fonts-b"></span>
  </h1>

  <script type="text/javascript">
    // Populate spans with default test string
    var h1s = document.getElementsByTagName('h1');
    for (var i = 0; i < h1s.length; i++) {
      var spans = h1s[i].getElementsByTagName('span');
      spans[0].innerHTML = webfont.FontWatchRunner.DEFAULT_TEST_STRING;
      spans[1].innerHTML = webfont.FontWatchRunner.DEFAULT_TEST_STRING;
    }

    // Calculate the width of the spans
    setTimeout(function() {
      var h1s = document.getElementsByTagName('h1');
      var comparisons = '';
      var allPassed = true;
      for (var i = 0; i < h1s.length; i++) {
        var spans = h1s[i].getElementsByTagName('span');
        var a = spans[0].offsetWidth;
        var b = spans[1].offsetWidth;
        comparisons += '<span style="color: ' + (a != b ? 'green' : 'red') + ';">' + a + '/' + b + '</span> ';
        allPassed = allPassed && a != b;
      }
      var out = (allPassed ? 'SUCCESS | ' : 'FAIL | ') + comparisons;
      document.getElementById('results').innerHTML = out;
    }, 500);
  </script>
</body>
</html>
